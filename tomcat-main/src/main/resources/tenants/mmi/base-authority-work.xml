
<!-- Cloned from base-authority-person -->
<!-- Following comment inherited from that file -->
<!-- XXX uispec Urls have been edited/fixed to match those been generated by this xml for the time being -->
<record id="work" type="authority" cms-type="default" generate-services-schema="true">
	<terms-used>true</terms-used>
    <web-url>work</web-url>
    
    <services-tenant-auth-singular>Workauthority</services-tenant-auth-singular>
    <services-tenant-auth-plural>Workauthorities</services-tenant-auth-plural>    
    <services-tenant-singular>Work</services-tenant-singular>
    <services-tenant-doctype>Workitem</services-tenant-doctype>
    
    <services-instances-path>workauthorities_common:http://collectionspace.org/services/work,abstract-common-list/list-item</services-instances-path>
    <services-single-instance-path>workauthorities_common:http://collectionspace.org/services/work,workauthorities_common</services-single-instance-path>
    <services-list-path>http://collectionspace.org/services/work,abstract-common-list/list-item</services-list-path>
    
    <services-record-path>works_common:http://collectionspace.org/services/work,works_common</services-record-path>
    <services-record-path id="collectionspace_core">collectionspace_core:http://collectionspace.org/collectionspace_core/,collectionspace_core</services-record-path>
    <services-url>workauthorities</services-url>
    <authority-vocab-type>WorkAuthority</authority-vocab-type>
    <hassoftdelete>true</hassoftdelete>
    
    <structures>
        <structure id="search">
            <view>
                <label-section id="messagekeys" show="true"/>
            </view>
        </structure>
        <structure id="screen">
            <view>
                <label-section id="messagekeys" show="true"/>
                <hierarchy-section show="true">
                    <options>
                        <option id="narrowerContext">work-work,work-cona_work</option>
                        <option id="broaderContext">work-work,work-cona_work</option>
                    </options>
                </hierarchy-section>
            </view>
        </structure>
    </structures>

    <include src="domain-authority-work.xml" strip-root="yes"/>

    <instances id="work">
        <instance id="work-work">
            <web-url>work</web-url>
            <title-ref>work</title-ref>
            <title>Local Works</title>
        </instance>
        <instance id="work-cona_work">
            <web-url>cona_work</web-url>
            <title-ref>cona_work</title-ref>
            <title>CONA Works</title>
        </instance>
    </instances>
    
	<section id="coreInformation">
		<include src="core-fields.xml"  strip-root="yes" />
	</section>
    
    <section id="workAuthorityInformation">
        <field id="preferredWork" ui-type="groupfield/preferredWork/selfrenderer" ui-func="cspace.preferred">
            <selector>preferred-workAuthority</selector>
        </field>
        <!--
            "genre" and "medium" are additions needed for MMI v2.6 migration
         -->
        <field id="genre" ui-search="repeatable" autocomplete="vocab-workgenre" ui-type="enum"/>
        <field id="medium" ui-search="repeatable" autocomplete="vocab-workmedium" ui-type="enum"/>
        <!-- "workHistoryNote" maps to "scopeNote" of MMI v2.6 schema -->
        <field id="workHistoryNote"/>
        <field id="workType" ui-search="repeatable" autocomplete="vocab-worktype" ui-type="enum"/>
        <repeat id="workDateGroupList/workDateGroup">
            <group id="workDate" xxx-services-no-repeat="true" 
                   ui-type="groupfield/structureddate" primarykey="dateDisplayDate"
                   ui-search="range" ui-func="cspace.structuredDate"/>
        </repeat>
        <repeat id="creatorGroupList/creatorGroup">
            <field id="creator" ui-search="repeatable" autocomplete="person-person,organization-organization"/>
            <field id="creatorType" autocomplete="vocab-workcreatortype" ui-type="enum"/>
        </repeat>
        <repeat id="publisherGroupList/publisherGroup">
            <field id="publisher" ui-search="repeatable" autocomplete="person-person,organization-organization"/>
            <field id="publisherType" autocomplete="vocab-workpublishertype" ui-type="enum"/>
        </repeat>
    </section>
    <!-- not used in UI except in autocompletes -->
    <section id="otherInformation">
    	<field id="inAuthority" services-should-index="true"></field>
    	<field id="deprecatedRefName">
			<services-tag>refName</services-tag>
		</field>
        <field id="shortIdentifier" mini="search,list,relate" attributes="GET" services-should-index="true"/>
        <field id="csid" exists-in-services="false" mini="search,list,relate" attributes="GET"/>
    </section>
</record>
